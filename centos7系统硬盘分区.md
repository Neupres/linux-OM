#### 计算机存储介质

电能存储设备： RAM ROM等各种设备

磁能存储设备：硬盘 软盘 磁带 磁芯存储器 磁泡存储器 U盘

光学存储 CD DVD

磁光存储 MO磁光盘

物理：打孔卡 打孔带

**计算机硬盘**

**容量** 硬盘大小表示参数

**转速** 硬盘一分钟内能完成最大的转数

**访问时间** 找到起始磁道位置到目标磁道位置再到目标磁道数据扇区的时间

**传输速率**  内部数据传输和外部数据传输率

**缓存** 硬盘内存芯片 快速反应芯片 缓冲数据处理任务 减小负荷 提高数据传输速度

**内存通讯** XT(DMA方式) AT型中断驱动方式

**磁头驱动** 电机驱动和音圈驱动 电机驱动相对于音圈驱动迟钝 先进的磁盘驱动都是采用音圈电机驱动和伺服盘定位

**磁头** 电磁感应器 MR磁头 磁阻磁头 采用分离式磁头 感应写 磁阻读  GMR是更好的磁头

**磁道** 磁头固定在磁盘上旋转的圆形轨迹 磁道因为磁性无法相邻 一张1.44MB的3.5寸软盘一面有80个磁道 硬盘通常一面成千上万个磁道

**磁盘** 磁盘是表面涂有磁性介质的整体 在显微镜下是有序的磁颗粒 微小的磁颗粒极性可以快速被磁头改变并保持  磁盘在高速运转中 收到外力震荡 悬浮磁头与磁盘接触后会造成不可挽回的数据损失 磁颗粒单轴异向性和体积会影响磁颗粒的热稳定性

**扇区** 磁盘上每个磁道被划分若干的弧段 弧段就是磁盘的扇区 每个扇区512可以存放512字节的信息 读取数据时将按照扇区为单位 1.44MB的3.5寸软盘每个磁道就有18个扇区

**柱面**  硬盘由多块盘片组成 每个盘片都有磁盘和磁头 每个盘片都被划分相同数目的磁道 从外边缘0开始 具有相同编号的磁道为磁盘的柱面 硬盘C柱面H磁头S扇区 硬盘的容量为 柱面数\*磁头数\*扇区数*512B

#### linux系统管理硬盘

**硬盘接口类型**

**IDE**(电子集成驱动器) 价格低廉，兼容性强。时代性通用。

**SCSI**(小型计算机系统接口)范围广，多任务，带宽大，CPU占用低，热插拔 使用中高工作站 服务器

**光纤通道** 热插拔，高速带宽，远程性强，连接支持数量大 能满足高端场景，海量存储子系统 通过集线器交换机进行点对点串行，双向数据通讯等系统级高数据传输要求

**SATA**2.0 串口硬盘，串行ATA总线嵌入信号时钟，能检查指令及数据并自动矫正，该口提高数据传输的可靠性

**SAS** 串行口 是SATA改进效能 可用性 扩充性的新接口  能在物理层和协议层与SATA兼容 SAS系统背板可以用SATA驱动也可以使用SAS，但SATA不能兼容SAS，与传统并行代表SCSI主流320MB每秒相比起来 SAS起步就能到达300MB每秒 未来600MB每秒，也使用串行线缆能实现更长的连接距离提高抗干扰，细线缆也可以改善机箱内部的散热。

**分区表类型**

GPT硬盘

GPT 全局唯一标识符分区表   使用GUID分区表的磁盘称为GPT磁盘最大卷支持识别128EB容量  分区个数理论没有限制 分区大小没限制 使用64位整数表示扇区号 分区表在首尾分别保存了一份相同的分区表  每个分区都有一个名称

MBR 主引导记录 master boot record 兼容性强 前置512字节空间存储分区表和分区结构，设计模式限制了格式容量，单卷最大2T。主引导扇区512字节中分3个部分 主引导程序 446字节 4个磁盘分区表 每个16字节  结束标志AA55 2个字节。最高4个主分区

**linux分区**

在装有linux系统的计算机中装入一块硬盘。

使用以下命令接入的硬盘设备信息

**hdparms**

将装入的硬盘分区

**fdisk或者parted**

linux LVM(逻辑卷管理) 逻辑分区方式能随意更改分区形式和大小，其分区形式是将所有linux硬盘读成一层抽象的逻辑集合大磁盘 ，再将此抽象层分出逻辑分区并可以调整。

LVM依赖于DM映射机制 此DM机制是逻辑到物理的映射框架(不可以反过来 从逻辑映射到物理)            

物理存储介质 **PSM** 物理存储设备 磁盘 系统中标识信息如 /dev/sda /dev/sdb

物理卷 **PV** 指逻辑上与磁盘分区相同的功能设备 LVM系统要实际映射的物理系统 如RAID 是LVM基本存储逻辑块 具有基本物理存储介质不具备的LVM相关管理参数

卷组 **VG** 类似于非LVM系统的物理磁盘，由一个或多个物理卷PV组成，可以在卷组上创建一个或者多个LV逻辑卷

逻辑卷 **LV** LVM中的磁盘分区 逻辑卷建立在卷组整合体之上 在逻辑卷之上再建立文件系统

物理块 **PE** LVM寻址最小单元 默认4MB PV最小构成要件 

逻辑块 **LE** 逻辑卷的基本构成单位 在同一卷组中  LE和PE物理块是相同的一一对应

卷组描述区域 **VGDA** 卷组描述用来映射与物理卷位置关系等包括以下内容 PV描述符 VG描述符 LV描述符 PE描述符等。

系统启动LVM时激活VG 并将VGDA加载至内存 通过读取内存数据识别LVM实际物理存储位置来处理系统I/O磁盘提交

**LVM处理I/O流程** 文件系统首先调用具体文件读写过程 将偏移(在LVm最小寻址单元PE中开头到实际文件开头位置)和起始位置转换为具体文件系统中的数据块 并将这些信息以buffer-head文件缓冲头结构的形式传递到文件缓冲层(BUFFER层) 缓冲层根据数据块的逻辑设备号和块号，将文件缓冲头部结构转换成一个达标请求的bio结构 发送到ivm映射层 LVM内核处理程序分析程序 决定是否拆分操作 之后将请求转化到对应磁盘 再挂载到真正的设备上

**将分区挂载到系统linux目录进行使用**

linux常用以下分区挂载目录

启动分区/boot 开机引导文件存放位置 一般为100M 需要后期升级等多系统选项建议400M

根目录/（与系统二进制文件夹/bin,管理员二进制文件夹 /sbin,程序所需要的共享动态链接库程序 /lib, 设备文件信息/dev, 系统管理和配置的文件/etc这5个目录在同一分区，不可挂载在不同分区，否则系统无法正常启动）

用户分区/home 除开root用户其他用户家目录  存放着其他用户的用户信息

交换分区swap 虚拟内存 一般为物理内存的1.5到2倍

